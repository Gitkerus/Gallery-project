(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/switcherDarkTheme.ffd9ce75.svg"},11:function(e,t,a){e.exports=a.p+"static/media/noMatchesFound.bb25791c.jpg"},13:function(e,t,a){e.exports=a(31)},27:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),u=(a(22),a(12)),s=a(2),l=a.n(s),i=a(4),m=a(3),p="https://test-front.framework.team",f=12,h=function(e){return Object(i.a)(l.a.mark(function t(){var a,n,r,c,o=arguments;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:null,n=a?"".concat(p).concat(e,"?")+new URLSearchParams(a):"".concat(p).concat(e),t.next=4,fetch(n);case 4:return r=t.sent,t.next=7,r.json();case 7:return c=t.sent,t.abrupt("return",c);case 9:case"end":return t.stop()}},t)}))},g=h("/authors"),b=h("/locations"),d=h("/paintings"),_=r.a.createContext(),v=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(m.a)(a,2),o=c[0],s=c[1],p=Object(n.useState)("Author"),f=Object(m.a)(p,2),h=f[0],d=f[1],v=Object(n.useState)("Location"),E=Object(m.a)(v,2),j=E[0],O=E[1],x=Object(n.useState)(""),k=Object(m.a)(x,2),N=k[0],w=k[1],C=Object(n.useState)(""),T=Object(m.a)(C,2),S=T[0],V=T[1],A=Object(n.useState)(""),D=Object(m.a)(A,2),I=D[0],R=D[1],L=Object(n.useState)(""),F=Object(m.a)(L,2),B=F[0],y=F[1],P=Object(n.useState)(1),M=Object(m.a)(P,2),J=M[0],U=M[1],q=Object(n.useState)([]),W=Object(m.a)(q,2),z=W[0],G=W[1],H=Object(n.useCallback)(Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,G(t);case 4:case"end":return e.stop()}},e)})),[]);Object(n.useEffect)(function(){H()},[H]);var K=Object(n.useState)([]),Q=Object(m.a)(K,2),X=Q[0],Y=Q[1],Z=Object(n.useCallback)(Object(i.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,a=t.map(function(e){return Object(u.a)({},e,{name:e.location})}),Y(a);case 5:case"end":return e.stop()}},e)})),[]);return Object(n.useEffect)(function(){Z()},[Z]),r.a.createElement(_.Provider,{value:{isDarkTheme:o,setIsDarkTheme:s,locations:X,authors:z,currentAuthor:h,setCurrentAuthor:d,currentLocation:j,setCurrentLocation:O,inputNameValue:N,setInputNameValue:w,inputRangeFromValue:S,setInputRangeFromValue:V,inputRangeBeforeValue:I,setInputRangeBeforeValue:R,pagesAmount:B,setPagesAmount:y,page:J,setPage:U}},t)},E=function(){return Object(n.useContext)(_)},j=a(8),O=a.n(j),x=a(9),k=a.n(x),N=a(10),w=a.n(N);var C=function(){var e=E(),t=e.isDarkTheme,a=e.setIsDarkTheme;return r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:O.a,alt:"FWT logo",className:"logo"}),r.a.createElement("img",{src:"".concat(t?w.a:k.a),alt:"lamp switcher",className:"switcher",onClick:function(){return a(!t)}}))},T=a(5);function S(){var e=E(),t=e.isDarkTheme,a=e.inputRangeFromValue,n=e.setInputRangeFromValue,c=e.inputRangeBeforeValue,o=e.setInputRangeBeforeValue;return r.a.createElement("div",{className:"range__box"},r.a.createElement("input",{type:"text",placeholder:"from",className:"range__input range__box__element",onChange:function(e){return n(e.target.value)},value:a}),r.a.createElement("div",{className:"".concat(t?"range__boxSeparator--light range__boxSeparator":"range__boxSeparator")}),r.a.createElement("input",{type:"text",placeholder:"before",className:"range__input range__box__element",onChange:function(e){return o(e.target.value)},value:c}))}var V=function(){var e=E(),t=e.isDarkTheme,a=e.locations,n=e.authors,c=e.currentAuthor,o=e.setCurrentAuthor,u=e.currentLocation,s=e.setCurrentLocation,l=e.inputNameValue,i=e.setInputNameValue;return r.a.createElement("section",{className:"filters__box"},r.a.createElement(T.a,{type:"text",isDarkTheme:t,className:"filters__box__single input",placeholder:"Name",value:l,onChange:function(e){return i(e.target.value)}}),r.a.createElement(T.d,{isDarkTheme:t,options:n.concat({name:"Author",id:10}),onChange:o,value:c,className:"filters__box__single"}),r.a.createElement(T.d,{isDarkTheme:t,options:a.concat({name:"Location",id:23}),onChange:s,value:u,className:"filters__box__single"}),r.a.createElement(T.c,{isDarkTheme:t,className:"filters__box__single",placeholder:"Created",onClose:function(){}},r.a.createElement(S,null)))};var A=function(e){var t=e.authorId,a=e.created,n=e.imageUrl,c=e.locationId,o=e.name,u=E(),s=u.authors,l=u.locations,i=s.find(function(e){return e.id===t}),m=l.find(function(e){return e.id===c});return i&&m?r.a.createElement("div",{className:"single__content",style:{background:"url(".concat(p).concat(n,")center/cover no-repeat")}},r.a.createElement("div",{className:"single__content__tooltip"},r.a.createElement("h2",null,o),r.a.createElement("h3",null,"Author: ",r.a.createElement("span",null,i.name)),r.a.createElement("h3",null,"Created: ",r.a.createElement("span",null,a)),r.a.createElement("h3",null,"Location: ",r.a.createElement("span",null,m.location)))):null},D=a(11),I=a.n(D);var R=function(){var e=E(),t=e.locations,a=e.authors,c=e.currentAuthor,o=e.currentLocation,u=e.inputNameValue,s=e.inputRangeFromValue,p=e.inputRangeBeforeValue,h=e.page,g=e.setPagesAmount,b=Object(n.useState)([]),_=Object(m.a)(b,2),v=_[0],j=_[1],O=function(e){return Object(i.a)(l.a.mark(function n(){var r,i;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return""!==u&&(e.q="".concat(u)),r=a.find(function(e){return e.name===c}),"Author"!==c&&(e.authorId=r.id),i=t.find(function(e){return e.location===o}),"Location"!==o&&(e.locationId=i.id),""!==s&&""!==p&&(e.created_gte="".concat(s),e.created_lte="".concat(p)),n.next=8,d(e);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},n)}))},x=Object(n.useCallback)(O({}),[a,t,c,o,s,p,u]),k=Object(n.useCallback)(Object(i.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,a=Math.ceil(t.length/f),g(a);case 5:case"end":return e.stop()}},e)})),[x]);Object(n.useEffect)(function(){k()},[k]);var N=Object(n.useCallback)(O({_limit:f,_page:h}),[a,t,c,o,s,p,u,h]),w=Object(n.useCallback)(Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}},e)})),[N]);return Object(n.useEffect)(function(){w()},[w]),0===v.length?r.a.createElement("section",{className:"content__box"},r.a.createElement("div",{className:"single__content",style:{background:"url(".concat(I.a,")center/cover no-repeat")}},r.a.createElement("div",{className:"single__content__tooltip"},r.a.createElement("h2",null,"No matches found, change search parametrs")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"content__box"},v.map(function(e){return r.a.createElement(A,Object.assign({key:e.id},e))})))};var L=function(){var e=E(),t=e.isDarkTheme,a=e.pagesAmount,n=e.page,c=e.setPage;return r.a.createElement(T.b,{className:"pagination__box",isDarkTheme:t,pagesAmount:a,currentPage:n,onChange:function(e){c(e)}})};a(27);var F=function(){var e=E().isDarkTheme;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(e?"darkTheme appBox":"lightTheme appBox")},r.a.createElement(C,null),r.a.createElement(V,null),r.a.createElement(R,null),r.a.createElement(L,null)))};a(29);o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null,r.a.createElement(F,null))))},8:function(e,t,a){e.exports=a.p+"static/media/logo.d0a2eac3.svg"},9:function(e,t,a){e.exports=a.p+"static/media/switcherLightTheme.531b0cd0.svg"}},[[13,2,1]]]);
//# sourceMappingURL=main.7edf74a8.chunk.js.map